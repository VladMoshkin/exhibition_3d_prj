<!DOCTYPE html>
{% load static %}
<html lang="ru">
	<head>
		<meta charset=utf-8>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="{% static 'css/exhibition.css' %}">
		<!-- <link rel="icon" href="img/favicon.png" type="image/x-icon"> -->

		<title>Выставки</title>

		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100%; }
			#cursor {
				width:10px;
				height: 10px;
				background-color: black;
				transform: translate(50px, 50px);
			}
		</style>

	</head>

	<body>
		<div id="logo">
			<img src="{% static 'img/Logo.svg' %}" alt="Logo"/>
		</div>
		<top ui>
		<div id="top">
			<div id="top-left">
			<div class="shelf">
					<img src="{% static 'img/menudesktop.svg' %}" alt="Menu"/>
				</div>
			</div>
			<ul id="top-right">
	    	<li>
				<div class="shelf">
				<img src="{% static 'img/Search.svg' %}" alt="Search"/>
				</div>
			</li>
			<li>
				<div class="text-shelf">
					<p><a href="{% url 'auth_login' %}">ВХОД / РЕГИСТРАЦИЯ</a></p>
				</div>
			</li>
			</ul>
		</div>
		</top>
		<bottom ui>
		<div id="ui">
			<div id="ui-left">
				<div class="shelf">
					<img src="{% static 'img/Sound.svg' %}" alt="Sound"/>
				</div>
			</div>
			<ul id="ui-right">
	    	<li>
				<div class="shelf">
				<img src="{% static 'img/twitter.svg' %}" alt="Twitter"/>
				</div>
			</li>
			<li>
				<div class="shelf">
				<img src="{% static 'img/facebook.svg' %}" alt="Facebook"/>
				</div>
			</li>
			<li>
				<div class="shelf">
				<img src="{% static 'img/instagram.svg' %}" alt="Instagram"/>
				</div>
			</li>
			<li>
				<div class="shelf">
				<img src="{% static 'img/vk.svg' %}" alt="Vk"/>
				</div>
			</li>
			</ul>
		</div>
		</bottom>

		<div id ="cursor" class="cursor"></div>

		<script>
		var theThing = document.querySelector("#cursor");
		function readMouseMove(e){
			var xPosition = e.clientX - (theThing.offsetWidth / 2);
			var yPosition = e.clientY - (theThing.offsetHeight / 2);

			var translateValue = "translate(" + xPosition + "px," + yPosition + "px)";
			theThing.style.transform = translateValue;
		}
		document.onmousemove = readMouseMove;
		</script>

		<script src="{% static 'js/three.js' %}"></script>
		<script>

            var camera, scene, renderer;
            var cube_texture, loader;

            init( );
            animation( );


            function init( ){
                camera = new THREE.PerspectiveCamera( 60, window.innerWidth/window.innerHeight, 0.1, 1000 );
                camera.position.set(0, 0, 410);
			    			camera.setFocalLength ( 25 );
                scene = new THREE.Scene();
                scene.background = new THREE.Color(0xffffff);

                window.addEventListener('resize', function( ){
                    renderer.setSize( window.innerWidth, window.innerHeight );
                    camera.aspect = window.innerWidth / window.innerHeight;
                    camera.updateProjectionMatrix( );

                } );

									var h = 49.5;
									var geometry = new THREE.BufferGeometry();
									var vertices = new Float32Array([
										-h, -h, -h,
										-h, h, -h,
										-h, h, -h,

										h, h, -h,
										h, h, -h,
										h, -h, -h,

										h, -h, -h,
										-h, -h, -h,
										-h, -h, h,

										-h, h, h,
										-h, h, h,
										h, h, h,

										h, h, h,
										h, -h, h,
										h, -h, h,

										-h, -h, h,
										-h, -h, -h,
										-h, -h, h,

										-h, h, -h,
										-h, h, h,
										h, h, -h,

										h, h, h,
										h, -h, -h,
										h, -h, h
								] );
								geometry.addAttribute( 'position', new THREE.Float32BufferAttribute( vertices, 3 ) );
								var lineSegments = new THREE.LineSegments( geometry, new THREE.LineBasicMaterial( { color: 0x000000, linewidth: 2 } ) );
								lineSegments.computeLineDistances();

								scene.add( lineSegments );
								lineSegments.position.set(-175, 0, 0);
					//Cube geometry
			    			var cube_geometry = new THREE.BoxGeometry( 100, 100, 100, 10, 10, 10 );

                var texture_right = new THREE.TextureLoader().load( "{% static 'img/right.jpg' %}" );
                var texture_left = new THREE.TextureLoader().load( "{% static 'img/left.jpg' %}" );
                var texture_top = new THREE.TextureLoader().load( "{% static 'img/top.jpg' %}" );
                var texture_bottom = new THREE.TextureLoader().load( "{% static 'img/bottom.jpg' %}" );
                var texture_front = new THREE.TextureLoader().load( "{% static 'img/back.jpg' %}" );
                var texture_back = new THREE.TextureLoader().load( "{% static 'img/back.jpg' %}" );

          			var cubeMaterials =
				[
								new THREE.MeshPhongMaterial( { map: texture_right, side: THREE.DoubleSide } ), //right
								new THREE.MeshPhongMaterial( { map: texture_left, side: THREE.DoubleSide } ), //left
								new THREE.MeshPhongMaterial( { map: texture_top, side: THREE.DoubleSide } ), //top
								new THREE.MeshPhongMaterial( { map: texture_bottom, side: THREE.DoubleSide } ), //bottom
								new THREE.MeshPhongMaterial( { map: texture_front, side: THREE.BackSide } ), //front
								new THREE.MeshPhongMaterial( { map: texture_back, side: THREE.DoubleSide } ) //back
                    //new THREE.MeshPhongMaterial( { color: 0x542ed1, side: THREE.DoubleSide } )
				];
			    var cube_material = new THREE.MeshFaceMaterial( cubeMaterials );
			    var cube = new THREE.Mesh( cube_geometry, cube_material );
                scene.add( cube );

                //Plane hor
                var geometry = new THREE.PlaneGeometry( 1000, 1000 );
                var material = new THREE.MeshPhongMaterial(  );
                var plane = new THREE.Mesh( geometry, material );
                //plane.castShadow = true;
                plane.receiveShadow = true;
                scene.add( plane );
                plane.position.set(0, -50.1, 0);
                plane.rotation.x = -Math.PI / 2;

                //Plane vert
                var geometry = new THREE.PlaneGeometry( 1000, 400 );
                var material = new THREE.MeshPhongMaterial( );
                var plane = new THREE.Mesh( geometry, material );
                //plane.castShadow = true;
                plane.receiveShadow = true;
                scene.add( plane );
                plane.position.set(0, 150, -250);

                //Light
                var ambientLight = new THREE.AmbientLight( 0xFFFFFF, 1 );
                scene.add( ambientLight );




                renderer = new THREE.WebGLRenderer();
                renderer.setSize( window.innerWidth, window.innerHeight );
                renderer.shadowMap.enabled = true;
			    			renderer.shadowMap.type = THREE.PCFSoftShadowMap;
                document.body.appendChild( renderer.domElement );
            }


            function animation( ){
                requestAnimationFrame( animation );

                renderer.render( scene, camera );
            }

		</script>
	</body>
</html>
