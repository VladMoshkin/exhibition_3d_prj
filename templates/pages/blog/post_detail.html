{% extends "base/base.html" %}
{% load staticfiles i18n %}

{% block title %}{{ post.title }}{% endblock %}

{% block pagetitle %}Статья{% endblock %}

{% block svgcolor_header %}black{% endblock %}
{% block textcolor %}black{% endblock %}
{% block flex-direction %}column-reverse{% endblock %}

{% block content %}
<script>
var pagetop, yPos, post_title;
  function yScroll (){
    pagetop = document.getElementById('pagetop');
    titletop = document.getElementById('titletop');
    titlemargin = document.getElementById('titlemargin');
    yPos = window.pageYOffset;
    if(yPos > 120){
      pagetop.style.height = "120px";
      titletop.style.fontSize = "20pt";
      titletop.style.width = "300px";
      titlemargin.style.top = "180px";
    } else {
      pagetop.style.height = "50vh";
      titletop.style.fontSize = "48pt";
      titletop.style.width= "54vw";
      titlemargin.style.top = "60vh";
    }
  }
  window.addEventListener("scroll", yScroll);
</script>

<article class="single_post">
	<header>
    <div class="img" id="pagetop" style="background-image: url({{post.background.url}})"/></div>
    <div id="titlemargin">
      <h2 id="titletop">{{ post.title }}</h2>
      <p>{{ post.published_date|date:"j.m.Y" }}</p>
    </div>
  </header>
	<main>
		<p>{{ post.text|linebreaksbr }}</p>
	</main>
	<footer></footer>
</article>
{% endblock %}
